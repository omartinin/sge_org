# PR0601

## 1. Personalización del módulo

- Creamos las views:

    `views.py`
    ```
    <odoo>
        <data>
            <!-- explicit list view definition -->

            <record model="ir.ui.view" id="gestion_productos.list">
            <field name="name">Productos</field>
            <field name="model">gestion_productos.gestion_productos</field>
            <field name="arch" type="xml">
                <tree>
                <field name="nombre"/>
                <field name="descripcion"/>
                <field name="codigo"/>
                <field name="imagen"/>
                <field name="categoria"/>
                <field name="tipo"/>
                <field name="precio"/>
                <field name="stock"/>
                <field name="fechacreacion"/>
                <field name="fechaactualizacion"/>
                <field name="activo"/>
                <field name="peso"/>
                </tree>
            </field>
            </record>


            <!-- actions opening views on models -->

            <record model="ir.actions.act_window" id="gestion_productos.action_window">
            <field name="name">gestion_productos window</field>
            <field name="res_model">gestion_productos.gestion_productos</field>
            <field name="view_mode">tree,form</field>
            </record>

            <!-- Top menu item -->

            <menuitem name="Gestion de productos" id="gestion_productos.menu_root"/>

            <!-- menu categories -->

            <menuitem name="Productos" id="gestion_productos.menu_1" parent="gestion_productos.menu_root"/>

            <!-- actions -->

            <menuitem name="Lista de productos" id="gestion_productos.menu_1_list" parent="gestion_productos.menu_1"
                    action="gestion_productos.action_window"/>

        </data>
    </odoo>
    ```

- Creamos los modelos:
  
    `models.py`
    ```
    # -*- coding: utf-8 -*-

    from odoo import models, fields, api


    class gestion_productos(models.Model):
        _name = 'gestion_productos.gestion_productos'
        _description = 'gestion_productos.gestion_productos'

        nombre = fields.Char()
        descripcion = fields.Text(string = 'Descripción')
        codigo = fields.Integer(
            string='Código', 
            required=True
        )
        imagen = fields.Image()
        categoria = fields.Selection(
            string='Categoría',
            selection=[('jardin', 'Jardín'),
                        ('hogar', 'Hogar'),
                        ('electrodomesticos', 'Electrodomésticos')]
        )
        
        tipo = fields.Boolean()
        currency_id = fields.Many2one('res.currency', string='Currency', default=lambda self: self.env.ref('base.EUR'))
        precio = fields.Monetary(currency_field='currency_id')
        stock = fields.Integer()
        fechacreacion = fields.Date(
            string = 'Fecha de creación',
            default = fields.Date.today(),
            readonly = True
        )
        fechaactualizacion = fields.Date(
            default = fields.Date.today(),
            readonly = True
        )
        activo = fields.Boolean(default = True)
        peso = fields.Integer()
    ```

## 2. Capturas

- [Lista](./capturas/Captura1.png)
- [Formulario](./capturas/Captura2.png)
